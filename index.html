<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title></title>
  <style type="text/css">
    * { margin: 0; padding: 0; }
    html, body { width: 100%; height: 100%; }
    canvas { display: block; background-image: url('https://i.imgur.com/ad7Tign.jpg'); }
  </style>
</head>
<body>
  <canvas id="canvas"></canvas>

  <script type="text/javascript" src="./Sprite.js"></script>
  <script type="text/javascript" src="./Actor.js"></script>
  <script type="text/javascript">
    const canvas = document.querySelector('#canvas')
    const ctx = canvas.getContext('2d')

    const resize = () => {
      canvas.width = window.innerWidth
      canvas.height = window.innerHeight
    }
    resize()
    window.addEventListener('resize', resize, false)

    const walk = new Sprite('./junjun_walk_sprite.png', 250, 150, 250, 600)
    const idle = new Sprite('./junjun_idle_sprite.png', 250, 180, 250, 360)

    const junjun = new Actor(window, canvas, ctx, 1000, 400)
    junjun.addAction('walk', walk)
    junjun.addAction('idle', idle)
    junjun.doAction('idle', 0, 0)

    // let i = 0
    // let frame = 0
    // let walk = canvas.width - 150
    // const steps = () => {
    //   ++frame
    //   if ( frame < 7 ) {
    //     window.requestAnimationFrame(steps)
    //     return
    //   }

    //   frame = 0
    //   junjun.doAction('walk', i++, walk, 0)

    //   walk -= 7
    //   if ( i >= 4 ) {
    //     i = 0
    //   }
    //   if ( walk <= -150 || walk >= canvas.width ) {
    //     walk = canvas.width
    //   }
    //   window.requestAnimationFrame(steps)
    // }

    // window.requestAnimationFrame(steps)
  </script>
</body>
</html>
